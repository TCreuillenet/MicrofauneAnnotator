Resources:
  AWSEBAutoScalingGroup:
    Metadata:
      AWS::CloudFormation::Authentication:
        S3Auth:
          type: "s3"
          buckets: ["-123456789012"]
          roleName: "aws-elasticbeanstalk-ec2-role"

files:
  "/tmp/beanstalk-database.json" :
    mode: "000644"
    owner: root
    group: root
    authentication: "S3Auth"
    source: https://s3-us-west-2.amazonaws.com.cn/-123456789012/beanstalk-database.json


# https://docs.amazonaws.cn/en_us/elasticbeanstalk/latest/dg/rds-external-credentials.html
# Role : aws-elasticbeanstalk-ec2-role
# {
# "Version": "2012-10-17",
# "Statement": [
#     {
#         "Sid": "database",
#         "Action": [
#             "s3:GetObject"
#         ],
#         "Effect": "Allow",
#         "Resource": [
#             "arn:aws-cn:s3:::-123456789012/beanstalk-database.json"
#         ]
#     }
# ]
# }
