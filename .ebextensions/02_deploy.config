option_settings:
  aws:elasticbeanstalk:application:environment:
    DJANGO_SETTINGS_MODULE: microfaune_annotator.settings
  aws:elasticbeanstalk:container:python:
    WSGIPATH: microfaune_annotator/wsgi.py
  aws:ec2:vpc:
    VPCId: vpc-0b394b6676b7d50ea
    AssociatePublicIpAddress: 'false'
    ELBScheme: public
    ELBSubnets: subnet-0d5d002f6d1fbd06d,subnet-0eb0ad70069b6d265
    Subnets: subnet-068b7ee5c1d254e3b,subnet-0862c6bea72c893be
    DBSubnets: subnet-068b7ee5c1d254e3b,subnet-0862c6bea72c893be
  aws:rds:dbinstance:
    DBEngine: postgres
    DBEngineVersion: 12.3
    DBAllocatedStorage: 5
    DBPassword: microfaune

Resources:
  AWSEBRDSDBSubnetGroup:
    Type: AWS::RDS::DBSubnetGroup
    Properties:
      DBSubnetGroupDescription: 'Subnet group for Microfaune RDS'
      SubnetIds: 
        - subnet-068b7ee5c1d254e3b
        - subnet-0862c6bea72c893be
  AWSEBRDSDBSecurityGroup:
    Type: AWS::RDS::DBSecurityGroup:
    Properties:
      GroupDescription: 'Security group for Microfaune RDS'
      DBSecurityGroupIngress: 

  AWSEBRDSDatabase: 
    Type: AWS::RDS::DBInstance 
    Properties:
      DBName: microfaune
      DBSubnetGroupName: { "Ref": "AWSEBRDSDBSubnetGroup" }
      DBInstanceClass: db.t2.micro 
      Engine: postgres
      EngineVersion: 12.3
      AllocatedStorage: 5 
      MasterUsername: root 
      MasterUserPassword: password 